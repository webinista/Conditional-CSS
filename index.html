<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Conditional CSS</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=792, user-scalable=no">
	<link rel="stylesheet" href="shower/themes/bright/styles/screen.css" type="text/css">
	<!--
		To apply styles to the certain slides
		set slide ID to get needed elements
		-->
	<style type="text/css" id="local" title="local">
		#Cover h2 {
			margin:65px 0 0;
			color:#FFF;
			text-align:center;
			font-size:70px;
			}
		#Picture h2 {
			color:#FFF;
			}
		.caption h1{
			font-family: 'Open Sans';
		}
		.slide.shout, .full .progress div{background:#c09;}
		.slide a, .caption a{
			color:#03f;
		}
		.slide code{
			padding: 2px;
		}
		.slide pre code{
			line-height: 3.5ex;
		}
		.twocol ul, .twocol ol{
			float:left;
			width: 40%;
			margin:0
		}
		.threecol ul, .threecol ol{
			float:left;
			width: 33%;
			margin:0
		}
		.tobuild{
			background:#ffc
		}
		.atrisk{
			opacity: .5;
		}
		.browsercompat{
			width: 100%;
			border:1px solid #ccc;
			border-collapse:collapse;
		}
		
		.browsercompat th, .browsercompat td{
			border:1px solid #ccc;
			padding: .5em;
			vertical-align: bottom;
			text-align:center;
			font-size:.8em;
		}
		.browsercompat th{
			background:#ffc;
		}
		.yes{color:#0c0;}
		.no,.emphasize{color: #c00;}
		.sorta{color: #fc0;}
		.maybe{color:#f60;}
		.logo{width:3em;height:3em;display:block;margin:0 auto}
	
		.slide .footnote{
			line-height:1.3;
			font-size: .8em;
			color:#777;
			margin-top:1em;
		}
		.slide .footnote a{
			color:#777;
		}
		
		.slide ol li, .slide ul li{
			margin-bottom: 1ex;
		}
		.slide footer ol li, .slide footer ul li{
			margin-bottom:0;
		}
		
		.demolink{text-align:right;}
	</style>
</head>
<body class="list">
	<header class="caption">
		<h1>Conditional CSS</h1>
		<p><a href="http://tiffanybbrown.com/">Tiffany B. Brown</a>, Webinista, Inc.</p>
	</header>
	<section class="slide cover" id="Cover"><div>
		<h2>Conditional CSS</h2>
	</div></section>
	<!--  data-timing="00:05" -->

	<section class="slide shout"><div>
		<h2>Who am I?</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Who am I?</h2>
		<ul>
			<li>Former member of the Opera Developer Relations Team</li>
			<li>Currently a freelance web developer</li>
			<li>2012 MinneWebCon speaker and fan of Minneapolis<br>(but not Minneapolis winters)</li>
		</ul>
	
	</div></section>


	<section class="slide shout"><div>
		<h2>What is Conditional CSS?</h2>
	</div></section>

	<section class="slide" id="what-is-conditional-css"><div>
		<h2>What is Conditional CSS?</h2>
		<p>CSS features and their associated JavaScript APIs that let us apply styles or behaviors when a particular condition is met.</p>
		<footer>A new way of thinking about some of the things we already know and use. 
		Defined by the CSS Conditional Rules Module Level 3. 
		Using broader definition here and covering features that aren't a part of that spec. 
		</footer>
	</div></section>
			
	<section class="slide"><div>
		<h2>Conditional CSS: a few <code>@rules</code></h2>
	
		<ul>
			<li class="next"><code>@media</code></li>
			<li class="next"><code>@supports</code></li>
			<li class="next"><code>@viewport</code></li>
		</ul>
		<footer>
			<p>Includes our old friend @media which is part of the CSS Level 2 specification, and newer features and APIs:</p>
			<ul>
				<li>Media queries which extends @media.</li>
				<li>@supports offers native feature detection for CSS properties</li>
				<li>@viewport applies styles based on the properties of a document's viewport</li>
			</ul>
			<p>These also have DOM and CSSOM-based APIs. All of it can be manipulated with scripting.</p>
		</footer>
	</div></section>

<section class="slide shout" id="at-media"><div>
	<h2>@media</h2>
</div></section>

	<section class="slide" id="at-media-recap"><div>
		<h2><code>@media</code>: a recap</h2>
		<p>Set styles for a particular media type.</p>
		
		<pre><code>@media print {
    body { font-size: 10pt }
}
@media screen, print {
    body { line-height: 1.2 }
}</code></pre>
	</div></section>
	
	<section class="slide" id="media-queries"><div>
		<h2><code>@media</code> and media queries</h2>
		<p>Applies styles for particular media features.</p>
		<div class="threecol">
		<ul>
			<li>width</li>
			<li>height</li>
			<li>device-width</li>
			<li>device-height</li>
			<li>orientation</li>
		</ul>

		<ul>
			<li>aspect-ratio</li>
			<li>device-aspect-ratio</li>
			<li>color</li>
			<li>color-index</li>
		</ul>

		<ul>	
			<li>monochrome</li>
			<li>resolution</li>
			<li>scan</li>
			<li>grid</li>
		</ul>
		</div>
		<footer>* Most of these features can be further qualified with a min- or max- prefix, 
		for example: min-device-width, and max-height.
	</div></section>

	<section class="slide" id="media-queries-browser-support"><div>
		<h2>Media queries browser support</h2>
		<table class="browsercompat">
		<tr>
		   <th><img src="pictures/ie.svg" class="logo" alt="Internet Explorer logo">IE</th>
		   <th><img src="pictures/firefox.svg" class="logo" alt="Internet Explorer logo">Firefox</th>
		   <th><img src="pictures/chrome.svg" class="logo" alt="Chrome logo">Chrome</th>
		   <th><img src="pictures/safari.png" class="logo" alt="Safari logo">Safari</th>	
		   <th><img src="pictures/opera.svg" class="logo" alt="Opera logo">Opera</th>				
		   <th><img src="pictures/android.svg" class="logo" alt="Android logo">Android</th>
		   <th><img src="pictures/blackberry.svg" class="logo" alt="BlackBerry logo" style="width: 4em">Blackberry</th>
		</tr>
		
		<tr>
		   <td class="yes">9+</td>
		   <td class="yes">3.5+</td>
		   <td class="yes">4.0</td>
		   <td class="yes">3.2*</td>	
		   <td class="yes">9.5**</td>		
		   <td class="yes">2.1+</td>		
		   <td class="yes">7.0</td>
		</tr>
	</table>
	<p class="footnote">*Safari had full support in desktop as of version 4.0.<br>**Opera gained full support in mobile in version 10. (<a href="http://caniuse.com/#search=media%20queries">Source: CanIUse.com</a>)</p>
	</div></section>
	<section class="slide"><div>
		<h2>Media queries basic syntax</h2>
		<pre><code>@media [only | not] &lt;media_type&gt; [and] (expression){
    selector{
        property: value;
    }	
}</code></pre>
	<footer>* Only or not for this particular media type, or/and an expression.
	* Expressions consist of the feature you wish to query, and usually a minimum, maximum, or exact value.
	* Within the media rule are your selectors and property-value pairs.
	</footer>
	</div></section> 


	<section class="slide"><div>
		<h2>Media queries syntax example</h2>
		<pre><code>@media screen and (max-width: 500px){</code>
    <code>    header{</code>
        <code>        position:fixed;</code>          
    <code>    }</code>	
<code>}</code></pre>
	<p class="demolink"><a href="demos/media/simple/" target="_blank">@media demo</a></p>
	</div></section> 
		
	<section class="slide"><div>
		<h2>Media queries syntax examples</h2>
		<ul>
			<li><code>@media only print</code></li>
			<li><code>@media not (aspect-ratio: 4/3)</code></li>
			<li><code>@media (min-width:400px) and (device-aspect-ratio: 16/9)</code></li>
			<li><code>@media screen and (min-width:400px), <br>print and (max-width: 8.5in)</code></li>
		</ul>
	</div></section> 
	
	
	<section class="slide"><div>
		<h2>Media queries in style sheet links</h2>
		<code>&lt;link media="(device-width:480px)" rel="stylesheet"&#8230; &gt;</code></li>
	</div></section> 


	<section class="slide"><div>
		<h2>Media with the <code>&lt;video&gt;</code> element</h2>
		<pre><code>&lt;video&gt;</code>
		<code>    &lt;source src="smallmovie.webm" media="(min-width:480px)"&gt;</code>
					<code>    &lt;source src="bigmovie.webm" media="(min-width:1900px)"&gt;</code>
<code>&lt;video&gt;</code></pre>
	
		<p class="demolink"><a href="demos/media/video/" target="_blank">With video demo</a></p>
	</div></section> 
	
	
	
	<section class="slide"><div>
		<h2>Media queries in SVG</h2>
		<p>Does <strong>not</strong> work in Internet Explorer 10.</p>
		<ul>
			<li>Based on the width of the SVG viewport</li>
			<li>Can refine, show, or hide SVG details as the image is scaled</li>
			<li>Allows for reusable, resizable elements</li>
		</ul>
		<p class="demolink"><a href="demos/media/svg/" target="_blank">In SVG demo</a></p>
			
		<footer>
			Andreas Bovens, of Opera Software has a video how-to and some great demos of how this is used.
			<a href="http://my.opera.com/ODIN/blog/2009/10/12/how-media-queries-allow-you-to-optimize-svg-icons-for-several-sizes">http://my.opera.com/ODIN/blog/2009/10/12/how-media-queries-allow-you-to-optimize-svg-icons-for-several-sizes</a>
		</footer>
	</div></section> 
	
	<section class="slide shout" id="matchmedia"><div>
		<h2>matchMedia()</h2>
	</div></section>
	
	<section class="slide"><div>
		<h2><code>window.matchMedia()</code> API</h2>
		<ul>
			<li>An API for interacting with media queries.</li>
			<li>Defined in the <a href="http://w3c-test.org/csswg/mediaqueries3/">Media Queries Level 3 Specification</a></li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2><code>matchMedia()</code> syntax</h2>
		<p>Argument must be a valid <code>@media</code> rule.</p>
		<ul>
			<li><code>matchMedia("screen and (min-width:400px)");</code></li>
			<li><code>matchMedia("(orientation: landscape)");</code></li>
		</ul>
		<p>Returns a <code>MediaQueryList</code> object.</p>
		<footer>This is a really good way to check the validity of your media queries before adding them to your CSS.</footer>
	</div></section>

	<section class="slide" id="mediaquerylist"><div>
		<h2>MediaQueryList interface</h2>
		<ul>
			<li><code>media</code>: returns list of queries or <code>not all</code> if the argument isn't valid.</li>
			<li><code>matches</code>: returns <code>true</code> if the state of the rendered document matches the media query, <code>false</code> otherwise</li>
			<li><code>addListener()</code>: Adds a media query listener.</li>
			<li><code>removeListener()</code>:  Removes the media query listener.</li>
		</ul>
		<footer>
		 	* Chrome and Safari actually report "invalid" instead of "not all".
		 </footer>
	</div></section>

	<section class="slide"><div>
		<h2>Adding a media query listener</h2>
		<pre><code>function mqHandler(mq){</code>
<code>    if( mq.matches ){</code>
<code>        // do something</code>
<code>    }</code>
<code>}</code>
<code>var mq = matchMedia("(orientation:landscape)");</code>
<code>mq.addListener( mqHandler );</code>		
</pre>
<p class="demolink" style="margin-top:-2rem;"><a href="demos/matchmedia/" target="_blank">matchMedia listener demo</a></p>
</div></section>

	<section class="slide" id="match-media-browser-support"><div>
		<h2><code>matchMedia()</code> browser support</h2>
		<table class="browsercompat">
		<tr>
		   <th><img src="pictures/ie.svg" class="logo" alt="Internet Explorer logo">IE</th>
		   <th><img src="pictures/firefox.svg" class="logo" alt="Firefox logo">Firefox</th>
		   <th><img src="pictures/chrome.svg" class="logo" alt="Chrome logo">Chrome</th>
		   <th><img src="pictures/safari.png" class="logo" alt="Safari logo">Safari</th>	
		   <th><img src="pictures/opera.svg" class="logo" alt="Opera logo">Opera</th>				
		   <th><img src="pictures/android.svg" class="logo" alt="Android logo">Android</th>
		   <th><img src="pictures/blackberry.svg" class="logo" alt="BlackBerry logo" style="width: 4em">Blackberry</th>
		</tr>
		
		<tr>
		   <td class="yes">10+</td>
		   <td class="yes">6+ *</td>
		   <td class="yes">9+ *</td>
		   <td class="yes">5.1</td>	
		   <td class="yes">12.1</td>		
		   <td class="yes">3+</td>		
		   <td class="yes">10</td>
		</tr>
	</table>
	<p class="footnote">*Available in Chrome for Android as of version 25 and Firefox for Android as of version 19. (<a href="http://caniuse.com/#search=matchmedia">Source: CanIUse.com</a>).</p>
	<footer>Support pretty well parallels support for media queries in most recent browser versions.</footer>
	</div></section>

	<section class="slide shout" id="supports"><div>
		<h2>@supports</h2>
		<footer>
		*Feature detection for CSS. 
		*Outlined by the CSS Conditional Rules Module Level 3 specification
		*Suggested by Paul Irish, one of the authors of Modernizr.
		*Spec is authored by a Mozilla employee.
		*Opera 12.1 was the first browser to fully support.
		</footer>
	</div></section>

	<section class="slide" id="how-at-supports-works"><div>
	<h2>How <code>@supports</code> works</h2>
	<ul>
		<li>Supported without a prefix in browsers that support it.</li>
		<li class="next">Styles applied only when the property is supported <em>and</em> value is valid <em>and supported</em>.</li>
		<li class="next">Can set more than one condition using <code>and</code> or <code>or</code>.</li>
		<li class="next">Can negate a condition using <code>not</code></li>
		<li class="next">Use parentheses to group <code>and</code> and <code>or</code> conditions.</li>
	</ul>
	<footer>
	* Just because a browser reports support doesn't mean support is actually usable, or
	compliant with the spec. Eric Meyer has a great critique about the limits of CSS.supports().
	<a href="http://meyerweb.com/eric/thoughts/2013/03/19/unsupportable-promises/">http://meyerweb.com/eric/thoughts/2013/03/19/unsupportable-promises/</a>
	* Can't negate one condition and permit another. 
	* Can, however negate a single condition created using 'and' or 'or'
	</footer>
	</div></section>

	<section class="slide" id="supports-syntax"><div>
		<h2><code>@supports</code> syntax</h2>
<pre><code>@supports [not] ( property: value-to-test ){
	/* CSS rules to apply */
}</code></pre>
	<footer>Applies styles when the condition isn't met. Can use to include fallbacks for cases where a browser supports at-supports, but not a particular CSS feature.</footer>
	</div></section>
	
	
	<section class="slide" id="supports-syntax-example"><div>
		<h2><code>@supports</code> syntax example</h2>
<pre><code>@supports ( transform: rotateX(45deg) ){
	#myobj{
		transform: rotateX(45deg);
	}
}</code></pre>
	<p class="demolink"><a href="demos/supports/supports/" target="_blank">@supports simple demo</a></p>
	</div></section>
	
	<section class="slide" id="supports-syntax-example-not"><div>
		<h2><code>@supports</code> example using <code>not</code></h2>
<pre><code>@supports not ( transform: rotateX(45deg) ){
	#myobj{
		transform: rotate(-45deg) skewX(10deg);
	}
}</code></pre>
	<p class="demolink"><a href="demos/supports/notsupports/" target="_blank">@supports using negation</a></p>
	</div></section>
	
	
	<section class="slide" id="supports-syntax-example-using-and-with-or"><div>
		<h2><code>@supports</code> using <code>and</code> &amp; <code>or</code></h2>
<pre><code>@supports ( 
    ( transform: scale(1) ) or ( -x-transform: scale(1) ) 
)  and ( 
    ( transition: transform 500ms linear ) 
        or ( -x-transition: transform 500ms linear ) 
)</code></pre>
<p>(Where <em>-x-</em> is a vendor prefix.)</p>
	<p class="demolink" style="margin-top:-4em"><a href="demos/supports/andorsupports/" target="_blank">@supports grouping conditions</a></p>

	<footer>Can group vendor-prefixes this way.</footer>
	</div></section>


	<section class="slide shout"><div>
		<h2>CSS.supports()</h2>
	</div></section>


	<section class="slide"><div>
		<h2><code>window.CSS.supports()</code></h2>
		<ul>
			<li>The DOM-based API counterpart to <code>@supports</code></code></li>
			<li>Originally conceived of as <code>window.supportsCSS();</code></li>
			<li>Now a <code>CSS</code> object attached to the window with a <code>supports()</code> method.</li>
		</ul>
		<footer>Presto-based Opera &#8212; Opera 12.1 &#8212; uses supportsCSS()</footer>
	</div></section>
	
	
	<section class="slide"><div>
		<h2><code>CSS.supports()</code> syntax</h2>
		<pre><code>var hasProp = CSS.supports('property','value');</code>
<code>if( hasProp ){</code>
<code>    // do something</code>
<code>}</code></pre>
	<p>Returns <code>true</code> if both property is supported, and the value is valid and supported. Returns <code>false</code> otherwise.</p>
	<footer>supportsCSS() accepts the same parameters in the same order.</div></section>
	
	

	<section class="slide" id="at-supports-browser-support"><div>
		<h2><code>@supports</code> &amp; <code>CSS.supports()</code> browser support</h2>
		<table class="browsercompat">
		<tr>
		   <th><img src="pictures/ie.svg" class="logo" alt="Internet Explorer logo">IE</th>
		   <th><img src="pictures/firefox.svg" class="logo" alt="Internet Explorer logo">Firefox</th>
		   <th><img src="pictures/chrome.svg" class="logo" alt="Chrome logo">Chrome</th>
		   <th><img src="pictures/safari.png" class="logo" alt="Safari logo">Safari</th>	
		   <th><img src="pictures/opera.svg" class="logo" alt="Opera logo">Opera</th>				
		   <th><img src="pictures/android.svg" class="logo" alt="Android logo">Android</th>
		   <th><img src="pictures/blackberry.svg" class="logo" alt="BlackBerry logo" style="width: 4em">Blackberry</th>
		</tr>
		
		<tr>
		   <td class="no">-</td>
		   <td class="yes">20.0a2+*</td>
		   <td class="no">-</td>
		   <td class="no">-</td>	
		   <td class="yes">12.1</td>		
		   <td class="no">-</td>		
		   <td class="no">-</td>
		</tr>
	</table>
	<p class="footnote">* Firefox support is available in version 17+, but behind a flag. Turned on by default in Firefox 20+ (Aurora and Firefox nightly builds). (<a href="http://caniuse.com/#search=supports">Source: CanIUse.com</a>).</p>
	<footer>WebKit has support</a> available in the codebase, but it has not made its way into a Safari, Chrome, Chromium release. It is mostly available in Opera 14 beta, however. See: http://trac.webkit.org/changeset/142739 and https://bugs.webkit.org/show_bug.cgi?id=104795</footer>
	</div></section>
	
	
	<section class="slide"><div>
		<h2>Testing for <code>@supports</code> support</h2>
		<ul>
			<li><code>!!window.CSSRule.SUPPORTS_RULE</code>: tests whether support is available <em>at all</em></li>
			<li class="next"><code>'CSS' in window</code>: tests whether the API is available as the <code>CSS</code> object.</li>
			<li class="next"><code>'supportsCSS' in window</code>: tests whether the API is available using <code>supportsCSS()</code> instead</li>
			<li class="next">Try <a href="https://github.com/webinista/supportsatsupports/blob/master/atsupports.js">atsupports.js</a>, written by yours truly.</li>
		</ul>
	<footer>
	* CSSRule is part of the CSS Object Model. 
	* An interface that acts as the parent interface for rules such as @viewport, @supports, @import, etc.</footer></div></section>


	<section class="slide shout"><div>
		<h2>@viewport</h2>
	</div></section>

	<section class="slide detour"><div>
		<h2><code>&lt;meta name="viewport"&gt;</code></h2>
		<ul>
			<li class="next">First introduced in iOS Safari</li>
			<li class="next">Allows developers to constrain the dimensions of a page to a particular size</li>
			<li class="next">Divorces the document viewport dimensions from the browser window dimensions</li>	
		</ul>
	</div></section>
	
	<section class="slide detour"><div>
		<h2><code>@viewport</code></h2>
		<ul>
			<li class="next">Introduced by Opera in the <a href="http://dev.w3.org/csswg/css-device-adapt/">CSS Device Adaptation</a> specification</li>
			<li class="next">Moves viewport information from the HTML document to CSS.</li>
		</ul>
	</div></section>


	<section class="slide" id="at-viewport-browser-support"><div>
		<h2><code>@viewport</code> browser support</h2>
		<table class="browsercompat">
		<tr>
		   <th><img src="pictures/ie.svg" class="logo" alt="Internet Explorer logo">IE</th>
		   <th><img src="pictures/firefox.svg" class="logo" alt="Internet Explorer logo">Firefox</th>
		   <th><img src="pictures/chrome.svg" class="logo" alt="Chrome logo">Chrome</th>
		   <th><img src="pictures/safari.png" class="logo" alt="Safari logo">Safari</th>	
		   <th><img src="pictures/opera.svg" class="logo" alt="Opera logo">Opera</th>				
		   <th><img src="pictures/android.svg" class="logo" alt="Android logo">Android</th>
		   <th><img src="pictures/blackberry.svg" class="logo" alt="BlackBerry logo" style="width: 4em">Blackberry</th>
		</tr>
		
		<tr>
		   <td class="yes">10*</td>
		   <td class="no">-</td>
		   <td class="no">-</td>
		   <td class="no">-</td>
		   <td class="yes">11+*&dagger;</td>
		   <td class="no">-</td>	
		   <td class="no">-</td>
		</tr>
	</table>
	<p class="footnote">*Requires a vendor prefix (-ms- or -o-). &dagger; Presto-based Opera only.</p>
	<footer>Firefox' implementation is still in the works. 
	Webkit implementation is complete, but not yet in a major release. Will require a -webkit- prefix.<a href="http://trac.webkit.org/changeset/133084 ">http://trac.webkit.org/changeset/133084</a>
	Chromium/Blink is also tracking it. <a href="https://code.google.com/p/chromium/issues/detail?id=155477">https://code.google.com/p/chromium/issues/detail?id=155477</a>
	Oprium beta doesn't have support yet.
	</footer>
	</div></section>

	
	<section class="slide"><div>
		<h2>Testing for <code>@viewport</code> support</h2>
		<pre><code>var hasViewport = !!window.CSSRule.VIEWPORT_RULE;</code></pre>
		
	</div></section>
	
	
	<section class="slide shout"><div>
		<h2>What's next?</h2>
	</div></section>


	<section class="slide tobuild"><div>
		<h2>More awesome media queries (Level 4)</h2>
		<ul>
			<li>http://dev.w3.org/csswg/mediaqueries4/</li>
			<li>https://bugs.webkit.org/show_bug.cgi?id=87403</li>
			<li>http://www.stucox.com/blog/the-good-and-bad-of-level-4-media-queries/</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Conditional CSS</h2>
		<p>Tiffany B. Brown</p>
		<ul>
			<li><a href="http://tiffanybbrown.com/">tiffanybbrown.com</a></li>
			<li><a href="http://twitter.com/webinista">twitter.com/webinista</a></li>
			<li>Slides at: <a href="http://webinista.github.com/Conditional-CSS/">http://webinista.github.com/Conditional-CSS/</a></li>
		</ul>
	</div></section>
	
	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"><div></div></div>
	<script src="shower/shower.min.js"></script>
	<!-- Shower Copyright © 2010–2013 Vadim Makeev — pepelsbey.net -->
</body>
</html>